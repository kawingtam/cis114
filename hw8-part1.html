<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homework 8 - AJAX Application</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
            color: #333;
            text-align: center;
        }
        header {
            background-color: #87CEEB;
            color: #fff;
            padding: 20px;
        }
        h1 {
            margin: 0;
            font-size: 2.5em;
        }
        .content {
            margin: 40px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            text-align: center;
        }
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
        }
        th, td {
            padding: 5px;
        }
        button {
            padding: 10px 20px;
            font-size: 1.1em;
            background-color: #555;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #666;
        }
        a {
            display: block;
            margin: 10px 0;
            text-decoration: none;
            color: #fff;
            background-color: #555;
            padding: 10px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
            font-size: 1.1em;
        }
        a:hover {
            background-color: #666;
        }
    </style>
</head>
<body>

<header>
    <h1>Homework 8 - AJAX Application</h1>
</header>

<div class="content">
    <button type="button" onclick="loadDoc()">Get CD collection</button>
    <br><br>
    <table id="demo"></table>
    
    
    <h2>Explanation of AJAX</h2>
    <p>The JavaScript code uses AJAX to dynamically fetch and display data from an XML file. When the button is clicked, the <code>loadDoc()</code> function is triggered, which creates an <code>XMLHttpRequest</code> object. The <code>onload</code> event handler ensures that the response from the server is processed once it is received. The data is fetched from the "cd_catalog.xml" file and parsed as an XML document.</p>
    <p>The <code>myFunction()</code> function takes the response and iterates through the <code>CD</code> elements in the XML file, extracting the artist and title for each CD. These values are then used to dynamically populate an HTML table, which is displayed on the webpage.</p>


    <h2>REST API</h2>
    <p>The Cat Facts API is a reliable and easy-to-use API that provides random facts about cats. It returns data in JSON format, making it developer-friendly and ideal for a variety of projects including educational tools, fun apps, and trivia games.</p>
    <p>No API key is required to use the Cat Facts API, allowing developers to easily integrate it without additional setup. This simplicity makes it accessible for quick implementation and experimentation.</p>
    <p>There are no fees associated with using the Cat Facts API, as it is hosted on a free Heroku dyno. However, developers should be aware that the initial response time might be slower due to Heroku's free-tier limitations.</p>
    <p>For more detailed information on how to use the API, developers can refer to the <code>https://alexwohlbruck.github.io/cat-facts/</code> for Cat Facts API Documentation. This resource provides endpoint details, usage examples, and response structures, enabling smooth integration into projects.</p>

    <a href="hw8-extracredit.html">Extra Credit: Cat Facts API Integration</a>
    <a href="hw8.html">Back to Homework 8 Page</a>
    <a href="index.html">Back to Main Page</a>
</div>

<script>
    function loadDoc() {
        const xhttp = new XMLHttpRequest();
        xhttp.onload = function() {
            myFunction(this);
        }
        xhttp.open("GET", "cd_catalog.xml");
        xhttp.send();
    }

    function myFunction(xml) {
        const xmlDoc = xml.responseXML;
        const x = xmlDoc.getElementsByTagName("CD");
        let table = "<tr><th>Artist</th><th>Title</th></tr>";
        for (let i = 0; i < x.length; i++) {
            table += "<tr><td>" +
            x[i].getElementsByTagName("ARTIST")[0].childNodes[0].nodeValue +
            "</td><td>" +
            x[i].getElementsByTagName("TITLE")[0].childNodes[0].nodeValue +
            "</td></tr>";
        }
        document.getElementById("demo").innerHTML = table;
    }
</script>

</body>
</html>
